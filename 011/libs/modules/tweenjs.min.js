/*!
* TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{},createjs.extend=function(subclass,superclass){"use strict";function o(){this.constructor=subclass}return o.prototype=superclass.prototype,subclass.prototype=new o},this.createjs=this.createjs||{},createjs.promote=function(subclass,prefix){"use strict";var subP=subclass.prototype,supP=Object.getPrototypeOf&&Object.getPrototypeOf(subP)||subP.__proto__;if(supP)for(var n in subP[(prefix+="_")+"constructor"]=supP.constructor,supP)subP.hasOwnProperty(n)&&"function"==typeof supP[n]&&(subP[prefix+n]=supP[n]);return subclass},this.createjs=this.createjs||{},createjs.deprecate=function(fallbackMethod,name){"use strict";return function(){var msg="Deprecated property or method '"+name+"'. See docs for info.";return console&&(console.warn?console.warn(msg):console.log(msg)),fallbackMethod&&fallbackMethod.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function Event(type,bubbles,cancelable){this.type=type,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!bubbles,this.cancelable=!!cancelable,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var p=Event.prototype;p.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},p.stopPropagation=function(){this.propagationStopped=!0},p.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},p.remove=function(){this.removed=!0},p.clone=function(){return new Event(this.type,this.bubbles,this.cancelable)},p.set=function(props){for(var n in props)this[n]=props[n];return this},p.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=Event}(),this.createjs=this.createjs||{},function(){"use strict";function EventDispatcher(){this._listeners=null,this._captureListeners=null}var p=EventDispatcher.prototype;EventDispatcher.initialize=function(target){target.addEventListener=p.addEventListener,target.on=p.on,target.removeEventListener=target.off=p.removeEventListener,target.removeAllEventListeners=p.removeAllEventListeners,target.hasEventListener=p.hasEventListener,target.dispatchEvent=p.dispatchEvent,target._dispatchEvent=p._dispatchEvent,target.willTrigger=p.willTrigger},p.addEventListener=function(type,listener,useCapture){var listeners,arr=(listeners=useCapture?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[type];return arr&&this.removeEventListener(type,listener,useCapture),(arr=listeners[type])?arr.push(listener):listeners[type]=[listener],listener},p.on=function(type,listener,scope,once,data,useCapture){return listener.handleEvent&&(scope=scope||listener,listener=listener.handleEvent),scope=scope||this,this.addEventListener(type,(function(evt){listener.call(scope,evt,data),once&&evt.remove()}),useCapture)},p.removeEventListener=function(type,listener,useCapture){var listeners=useCapture?this._captureListeners:this._listeners;if(listeners){var arr=listeners[type];if(arr)for(var i=0,l=arr.length;i<l;i++)if(arr[i]==listener){1==l?delete listeners[type]:arr.splice(i,1);break}}},p.off=p.removeEventListener,p.removeAllEventListeners=function(type){type?(this._listeners&&delete this._listeners[type],this._captureListeners&&delete this._captureListeners[type]):this._listeners=this._captureListeners=null},p.dispatchEvent=function(eventObj,bubbles,cancelable){if("string"==typeof eventObj){var listeners=this._listeners;if(!(bubbles||listeners&&listeners[eventObj]))return!0;eventObj=new createjs.Event(eventObj,bubbles,cancelable)}else eventObj.target&&eventObj.clone&&(eventObj=eventObj.clone());try{eventObj.target=this}catch(e){}if(eventObj.bubbles&&this.parent){for(var top=this,list=[top];top.parent;)list.push(top=top.parent);var i,l=list.length;for(i=l-1;i>=0&&!eventObj.propagationStopped;i--)list[i]._dispatchEvent(eventObj,1+(0==i));for(i=1;i<l&&!eventObj.propagationStopped;i++)list[i]._dispatchEvent(eventObj,3)}else this._dispatchEvent(eventObj,2);return!eventObj.defaultPrevented},p.hasEventListener=function(type){var listeners=this._listeners,captureListeners=this._captureListeners;return!!(listeners&&listeners[type]||captureListeners&&captureListeners[type])},p.willTrigger=function(type){for(var o=this;o;){if(o.hasEventListener(type))return!0;o=o.parent}return!1},p.toString=function(){return"[EventDispatcher]"},p._dispatchEvent=function(eventObj,eventPhase){var l,arr,listeners=eventPhase<=2?this._captureListeners:this._listeners;if(eventObj&&listeners&&(arr=listeners[eventObj.type])&&(l=arr.length)){try{eventObj.currentTarget=this}catch(e){}try{eventObj.eventPhase=0|eventPhase}catch(e){}eventObj.removed=!1,arr=arr.slice();for(var i=0;i<l&&!eventObj.immediatePropagationStopped;i++){var o=arr[i];o.handleEvent?o.handleEvent(eventObj):o(eventObj),eventObj.removed&&(this.off(eventObj.type,o,1==eventPhase),eventObj.removed=!1)}}2===eventPhase&&this._dispatchEvent(eventObj,2.1)},createjs.EventDispatcher=EventDispatcher}(),this.createjs=this.createjs||{},function(){"use strict";function Ticker(){throw"Ticker cannot be instantiated."}Ticker.RAF_SYNCHED="synched",Ticker.RAF="raf",Ticker.TIMEOUT="timeout",Ticker.timingMode=null,Ticker.maxDelta=0,Ticker.paused=!1,Ticker.removeEventListener=null,Ticker.removeAllEventListeners=null,Ticker.dispatchEvent=null,Ticker.hasEventListener=null,Ticker._listeners=null,createjs.EventDispatcher.initialize(Ticker),Ticker._addEventListener=Ticker.addEventListener,Ticker.addEventListener=function(){return!Ticker._inited&&Ticker.init(),Ticker._addEventListener.apply(Ticker,arguments)},Ticker._inited=!1,Ticker._startTime=0,Ticker._pausedTime=0,Ticker._ticks=0,Ticker._pausedTicks=0,Ticker._interval=50,Ticker._lastTime=0,Ticker._times=null,Ticker._tickTimes=null,Ticker._timerId=null,Ticker._raf=!0,Ticker._setInterval=function(interval){Ticker._interval=interval,Ticker._inited&&Ticker._setupTick()},Ticker.setInterval=createjs.deprecate(Ticker._setInterval,"Ticker.setInterval"),Ticker._getInterval=function(){return Ticker._interval},Ticker.getInterval=createjs.deprecate(Ticker._getInterval,"Ticker.getInterval"),Ticker._setFPS=function(value){Ticker._setInterval(1e3/value)},Ticker.setFPS=createjs.deprecate(Ticker._setFPS,"Ticker.setFPS"),Ticker._getFPS=function(){return 1e3/Ticker._interval},Ticker.getFPS=createjs.deprecate(Ticker._getFPS,"Ticker.getFPS");try{Object.defineProperties(Ticker,{interval:{get:Ticker._getInterval,set:Ticker._setInterval},framerate:{get:Ticker._getFPS,set:Ticker._setFPS}})}catch(e){console.log(e)}Ticker.init=function(){Ticker._inited||(Ticker._inited=!0,Ticker._times=[],Ticker._tickTimes=[],Ticker._startTime=Ticker._getTime(),Ticker._times.push(Ticker._lastTime=0),Ticker.interval=Ticker._interval)},Ticker.reset=function(){if(Ticker._raf){var f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;f&&f(Ticker._timerId)}else clearTimeout(Ticker._timerId);Ticker.removeAllEventListeners("tick"),Ticker._timerId=Ticker._times=Ticker._tickTimes=null,Ticker._startTime=Ticker._lastTime=Ticker._ticks=Ticker._pausedTime=0,Ticker._inited=!1},Ticker.getMeasuredTickTime=function(ticks){var ttl=0,times=Ticker._tickTimes;if(!times||times.length<1)return-1;ticks=Math.min(times.length,ticks||0|Ticker._getFPS());for(var i=0;i<ticks;i++)ttl+=times[i];return ttl/ticks},Ticker.getMeasuredFPS=function(ticks){var times=Ticker._times;return!times||times.length<2?-1:(ticks=Math.min(times.length-1,ticks||0|Ticker._getFPS()),1e3/((times[0]-times[ticks])/ticks))},Ticker.getTime=function(runTime){return Ticker._startTime?Ticker._getTime()-(runTime?Ticker._pausedTime:0):-1},Ticker.getEventTime=function(runTime){return Ticker._startTime?(Ticker._lastTime||Ticker._startTime)-(runTime?Ticker._pausedTime:0):-1},Ticker.getTicks=function(pauseable){return Ticker._ticks-(pauseable?Ticker._pausedTicks:0)},Ticker._handleSynch=function(){Ticker._timerId=null,Ticker._setupTick(),Ticker._getTime()-Ticker._lastTime>=.97*(Ticker._interval-1)&&Ticker._tick()},Ticker._handleRAF=function(){Ticker._timerId=null,Ticker._setupTick(),Ticker._tick()},Ticker._handleTimeout=function(){Ticker._timerId=null,Ticker._setupTick(),Ticker._tick()},Ticker._setupTick=function(){if(null==Ticker._timerId){var mode=Ticker.timingMode;if(mode==Ticker.RAF_SYNCHED||mode==Ticker.RAF){var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(f)return Ticker._timerId=f(mode==Ticker.RAF?Ticker._handleRAF:Ticker._handleSynch),void(Ticker._raf=!0)}Ticker._raf=!1,Ticker._timerId=setTimeout(Ticker._handleTimeout,Ticker._interval)}},Ticker._tick=function(){var paused=Ticker.paused,time=Ticker._getTime(),elapsedTime=time-Ticker._lastTime;if(Ticker._lastTime=time,Ticker._ticks++,paused&&(Ticker._pausedTicks++,Ticker._pausedTime+=elapsedTime),Ticker.hasEventListener("tick")){var event=new createjs.Event("tick"),maxDelta=Ticker.maxDelta;event.delta=maxDelta&&elapsedTime>maxDelta?maxDelta:elapsedTime,event.paused=paused,event.time=time,event.runTime=time-Ticker._pausedTime,Ticker.dispatchEvent(event)}for(Ticker._tickTimes.unshift(Ticker._getTime()-time);Ticker._tickTimes.length>100;)Ticker._tickTimes.pop();for(Ticker._times.unshift(time);Ticker._times.length>100;)Ticker._times.pop()};var w=window,now=w.performance.now||w.performance.mozNow||w.performance.msNow||w.performance.oNow||w.performance.webkitNow;Ticker._getTime=function(){return(now&&now.call(w.performance)||(new Date).getTime())-Ticker._startTime},createjs.Ticker=Ticker}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractTween(props){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,props&&(this.useTicks=!!props.useTicks,this.ignoreGlobalPause=!!props.ignoreGlobalPause,this.loop=!0===props.loop?-1:props.loop||0,this.reversed=!!props.reversed,this.bounce=!!props.bounce,this.timeScale=props.timeScale||1,props.onChange&&this.addEventListener("change",props.onChange),props.onComplete&&this.addEventListener("complete",props.onComplete))}var p=createjs.extend(AbstractTween,createjs.EventDispatcher);p._setPaused=function(value){return createjs.Tween._register(this,value),this},p.setPaused=createjs.deprecate(p._setPaused,"AbstractTween.setPaused"),p._getPaused=function(){return this._paused},p.getPaused=createjs.deprecate(p._getPaused,"AbstactTween.getPaused"),p._getCurrentLabel=function(pos){var labels=this.getLabels();null==pos&&(pos=this.position);for(var i=0,l=labels.length;i<l&&!(pos<labels[i].position);i++);return 0===i?null:labels[i-1].label},p.getCurrentLabel=createjs.deprecate(p._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(p,{paused:{set:p._setPaused,get:p._getPaused},currentLabel:{get:p._getCurrentLabel}})}catch(e){}p.advance=function(delta,ignoreActions){this.setPosition(this.rawPosition+delta*this.timeScale,ignoreActions)},p.setPosition=function(rawPosition,ignoreActions,jump,callback){var d=this.duration,loopCount=this.loop,prevRawPos=this.rawPosition,loop=0,t=0,end=!1;if(rawPosition<0&&(rawPosition=0),0===d){if(end=!0,-1!==prevRawPos)return end}else{if(t=rawPosition-(loop=rawPosition/d|0)*d,(end=-1!==loopCount&&rawPosition>=loopCount*d+d)&&(rawPosition=(t=d)*(loop=loopCount)+d),rawPosition===prevRawPos)return end;var rev;!this.reversed!=!(this.bounce&&loop%2)&&(t=d-t)}this.position=t,this.rawPosition=rawPosition,this._updatePosition(jump,end),end&&(this.paused=!0),callback&&callback(this),ignoreActions||this._runActions(prevRawPos,rawPosition,jump,!jump&&-1===prevRawPos),this.dispatchEvent("change"),end&&this.dispatchEvent("complete")},p.calculatePosition=function(rawPosition){var d=this.duration,loopCount=this.loop,loop=0,t=0,rev;return 0===d?0:(-1!==loopCount&&rawPosition>=loopCount*d+d?(t=d,loop=loopCount):t=rawPosition<0?0:rawPosition-(loop=rawPosition/d|0)*d,!this.reversed!=!(this.bounce&&loop%2)?d-t:t)},p.getLabels=function(){var list=this._labelList;if(!list){list=this._labelList=[];var labels=this._labels;for(var n in labels)list.push({label:n,position:labels[n]});list.sort((function(a,b){return a.position-b.position}))}return list},p.setLabels=function(labels){this._labels=labels,this._labelList=null},p.addLabel=function(label,position){this._labels||(this._labels={}),this._labels[label]=position;var list=this._labelList;if(list){for(var i=0,l=list.length;i<l&&!(position<list[i].position);i++);list.splice(i,0,{label:label,position:position})}},p.gotoAndPlay=function(positionOrLabel){this.paused=!1,this._goto(positionOrLabel)},p.gotoAndStop=function(positionOrLabel){this.paused=!0,this._goto(positionOrLabel)},p.resolve=function(positionOrLabel){var pos=Number(positionOrLabel);return isNaN(pos)&&(pos=this._labels&&this._labels[positionOrLabel]),pos},p.toString=function(){return"[AbstractTween]"},p.clone=function(){throw"AbstractTween can not be cloned."},p._init=function(props){props&&props.paused||(this.paused=!1),props&&null!=props.position&&this.setPosition(props.position)},p._updatePosition=function(jump,end){},p._goto=function(positionOrLabel){var pos=this.resolve(positionOrLabel);null!=pos&&this.setPosition(pos,!1,!0)},p._runActions=function(startRawPos,endRawPos,jump,includeStart){if(this._actionHead||this.tweens){var d=this.duration,reversed=this.reversed,bounce=this.bounce,loopCount=this.loop,loop0,loop1,t0,t1;if(0===d?(loop0=loop1=t0=t1=0,reversed=bounce=!1):(t0=startRawPos-(loop0=startRawPos/d|0)*d,t1=endRawPos-(loop1=endRawPos/d|0)*d),-1!==loopCount&&(loop1>loopCount&&(t1=d,loop1=loopCount),loop0>loopCount&&(t0=d,loop0=loopCount)),jump)return this._runActionsRange(t1,t1,jump,includeStart);if(loop0!==loop1||t0!==t1||jump||includeStart){-1===loop0&&(loop0=t0=0);var dir=startRawPos<=endRawPos,loop=loop0;do{var rev,start=loop===loop0?t0:dir?0:d,end=loop===loop1?t1:dir?d:0;if(!reversed!=!(bounce&&loop%2)&&(start=d-start,end=d-end),bounce&&loop!==loop0&&start===end);else if(this._runActionsRange(start,end,jump,includeStart||loop!==loop0&&!bounce))return!0;includeStart=!1}while(dir&&++loop<=loop1||!dir&&--loop>=loop1)}}},p._runActionsRange=function(startPos,endPos,jump,includeStart){},createjs.AbstractTween=createjs.promote(AbstractTween,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function Tween(target,props){this.AbstractTween_constructor(props),this.pluginData=null,this.target=target,this.passive=!1,this._stepHead=new TweenStep(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,props&&(this.pluginData=props.pluginData,props.override&&Tween.removeTweens(target)),this.pluginData||(this.pluginData={}),this._init(props)}var p=createjs.extend(Tween,createjs.AbstractTween);function TweenStep(prev,t,d,props,ease,passive){this.next=null,this.prev=prev,this.t=t,this.d=d,this.props=props,this.ease=ease,this.passive=passive,this.index=prev?prev.index+1:0}function TweenAction(prev,t,scope,funct,params){this.next=null,this.prev=prev,this.t=t,this.d=0,this.scope=scope,this.funct=funct,this.params=params}Tween.IGNORE={},Tween._tweens=[],Tween._plugins=null,Tween._tweenHead=null,Tween._tweenTail=null,Tween.get=function(target,props){return new Tween(target,props)},Tween.tick=function(delta,paused){for(var tween=Tween._tweenHead;tween;){var next=tween._next;paused&&!tween.ignoreGlobalPause||tween._paused||tween.advance(tween.useTicks?1:delta),tween=next}},Tween.handleEvent=function(event){"tick"===event.type&&this.tick(event.delta,event.paused)},Tween.removeTweens=function(target){if(target.tweenjs_count){for(var tween=Tween._tweenHead;tween;){var next=tween._next;tween.target===target&&Tween._register(tween,!0),tween=next}target.tweenjs_count=0}},Tween.removeAllTweens=function(){for(var tween=Tween._tweenHead;tween;){var next=tween._next;tween._paused=!0,tween.target&&(tween.target.tweenjs_count=0),tween._next=tween._prev=null,tween=next}Tween._tweenHead=Tween._tweenTail=null},Tween.hasActiveTweens=function(target){return target?!!target.tweenjs_count:!!Tween._tweenHead},Tween._installPlugin=function(plugin){for(var priority=plugin.priority=plugin.priority||0,arr=Tween._plugins=Tween._plugins||[],i=0,l=arr.length;i<l&&!(priority<arr[i].priority);i++);arr.splice(i,0,plugin)},Tween._register=function(tween,paused){var target=tween.target;if(!paused&&tween._paused){target&&(target.tweenjs_count=target.tweenjs_count?target.tweenjs_count+1:1);var tail=Tween._tweenTail;tail?(Tween._tweenTail=tail._next=tween,tween._prev=tail):Tween._tweenHead=Tween._tweenTail=tween,!Tween._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",Tween),Tween._inited=!0)}else if(paused&&!tween._paused){target&&target.tweenjs_count--;var next=tween._next,prev=tween._prev;next?next._prev=prev:Tween._tweenTail=prev,prev?prev._next=next:Tween._tweenHead=next,tween._next=tween._prev=null}tween._paused=paused},p.wait=function(duration,passive){return duration>0&&this._addStep(+duration,this._stepTail.props,null,passive),this},p.to=function(props,duration,ease){(null==duration||duration<0)&&(duration=0);var step=this._addStep(+duration,null,ease);return this._appendProps(props,step),this},p.label=function(name){return this.addLabel(name,this.duration),this},p.call=function(callback,params,scope){return this._addAction(scope||this.target,callback,params||[this])},p.set=function(props,target){return this._addAction(target||this.target,this._set,[props])},p.play=function(tween){return this._addAction(tween||this,this._set,[{paused:!1}])},p.pause=function(tween){return this._addAction(tween||this,this._set,[{paused:!0}])},p.w=p.wait,p.t=p.to,p.c=p.call,p.s=p.set,p.toString=function(){return"[Tween]"},p.clone=function(){throw"Tween can not be cloned."},p._addPlugin=function(plugin){var ids=this._pluginIds||(this._pluginIds={}),id=plugin.ID;if(id&&!ids[id]){ids[id]=!0;for(var plugins=this._plugins||(this._plugins=[]),priority=plugin.priority||0,i=0,l=plugins.length;i<l;i++)if(priority<plugins[i].priority)return void plugins.splice(i,0,plugin);plugins.push(plugin)}},p._updatePosition=function(jump,end){var step=this._stepHead.next,t=this.position,d=this.duration;if(this.target&&step){for(var stepNext=step.next;stepNext&&stepNext.t<=t;)stepNext=(step=step.next).next;var ratio=end?0===d?1:t/d:(t-step.t)/step.d;this._updateTargetProps(step,ratio,end)}this._stepPosition=step?t-step.t:0},p._updateTargetProps=function(step,ratio,end){if(!(this.passive=!!step.passive)){var v,v0,v1,ease,p0=step.prev.props,p1=step.props;(ease=step.ease)&&(ratio=ease(ratio,0,1,1));var plugins=this._plugins;proploop:for(var n in p0){if(v=(v0=p0[n])!==(v1=p1[n])&&"number"==typeof v0?v0+(v1-v0)*ratio:ratio>=1?v1:v0,plugins)for(var i=0,l=plugins.length;i<l;i++){var value=plugins[i].change(this,step,n,v,ratio,end);if(value===Tween.IGNORE)continue proploop;void 0!==value&&(v=value)}this.target[n]=v}}},p._runActionsRange=function(startPos,endPos,jump,includeStart){var rev=startPos>endPos,action=rev?this._actionTail:this._actionHead,ePos=endPos,sPos=startPos;rev&&(ePos=startPos,sPos=endPos);for(var t=this.position;action;){var pos=action.t;if((pos===endPos||pos>sPos&&pos<ePos||includeStart&&pos===startPos)&&(action.funct.apply(action.scope,action.params),t!==this.position))return!0;action=rev?action.prev:action.next}},p._appendProps=function(props,step,stepPlugins){var initProps=this._stepHead.props,target=this.target,plugins=Tween._plugins,n,i,value,initValue,inject,oldStep=step.prev,oldProps=oldStep.props,stepProps=step.props||(step.props=this._cloneProps(oldProps)),cleanProps={};for(n in props)if(props.hasOwnProperty(n)&&(cleanProps[n]=stepProps[n]=props[n],void 0===initProps[n])){if(initValue=void 0,plugins)for(i=plugins.length-1;i>=0;i--)if(void 0!==(value=plugins[i].init(this,n,initValue))&&(initValue=value),initValue===Tween.IGNORE){delete stepProps[n],delete cleanProps[n];break}initValue!==Tween.IGNORE&&(void 0===initValue&&(initValue=target[n]),oldProps[n]=void 0===initValue?null:initValue)}for(n in cleanProps){value=props[n];for(var o,prev=oldStep;(o=prev)&&(prev=o.prev);)if(prev.props!==o.props){if(void 0!==prev.props[n])break;prev.props[n]=oldProps[n]}}if(!1!==stepPlugins&&(plugins=this._plugins))for(i=plugins.length-1;i>=0;i--)plugins[i].step(this,step,cleanProps);(inject=this._injected)&&(this._injected=null,this._appendProps(inject,step,!1))},p._injectProp=function(name,value){var o;(this._injected||(this._injected={}))[name]=value},p._addStep=function(duration,props,ease,passive){var step=new TweenStep(this._stepTail,this.duration,duration,props,ease,passive||!1);return this.duration+=duration,this._stepTail=this._stepTail.next=step},p._addAction=function(scope,funct,params){var action=new TweenAction(this._actionTail,this.duration,scope,funct,params);return this._actionTail?this._actionTail.next=action:this._actionHead=action,this._actionTail=action,this},p._set=function(props){for(var n in props)this[n]=props[n]},p._cloneProps=function(props){var o={};for(var n in props)o[n]=props[n];return o},createjs.Tween=createjs.promote(Tween,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function Timeline(props){var tweens,labels;props instanceof Array||null==props&&arguments.length>1?(tweens=props,labels=arguments[1],props=arguments[2]):props&&(tweens=props.tweens,labels=props.labels),this.AbstractTween_constructor(props),this.tweens=[],tweens&&this.addTween.apply(this,tweens),this.setLabels(labels),this._init(props)}var p=createjs.extend(Timeline,createjs.AbstractTween);p.addTween=function(tween){tween._parent&&tween._parent.removeTween(tween);var l=arguments.length;if(l>1){for(var i=0;i<l;i++)this.addTween(arguments[i]);return arguments[l-1]}if(0===l)return null;this.tweens.push(tween),tween._parent=this,tween.paused=!0;var d=tween.duration;return tween.loop>0&&(d*=tween.loop+1),d>this.duration&&(this.duration=d),this.rawPosition>=0&&tween.setPosition(this.rawPosition),tween},p.removeTween=function(tween){var l=arguments.length;if(l>1){for(var good=!0,i=0;i<l;i++)good=good&&this.removeTween(arguments[i]);return good}if(0===l)return!0;for(var tweens=this.tweens,i=tweens.length;i--;)if(tweens[i]===tween)return tweens.splice(i,1),tween._parent=null,tween.duration>=this.duration&&this.updateDuration(),!0;return!1},p.updateDuration=function(){this.duration=0;for(var i=0,l=this.tweens.length;i<l;i++){var tween=this.tweens[i],d=tween.duration;tween.loop>0&&(d*=tween.loop+1),d>this.duration&&(this.duration=d)}},p.toString=function(){return"[Timeline]"},p.clone=function(){throw"Timeline can not be cloned."},p._updatePosition=function(jump,end){for(var t=this.position,i=0,l=this.tweens.length;i<l;i++)this.tweens[i].setPosition(t,!0,jump)},p._runActionsRange=function(startPos,endPos,jump,includeStart){for(var t=this.position,i=0,l=this.tweens.length;i<l;i++)if(this.tweens[i]._runActions(startPos,endPos,jump,includeStart),t!==this.position)return!0},createjs.Timeline=createjs.promote(Timeline,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function Ease(){throw"Ease cannot be instantiated."}Ease.linear=function(t){return t},Ease.none=Ease.linear,Ease.get=function(amount){return amount<-1?amount=-1:amount>1&&(amount=1),function(t){return 0==amount?t:amount<0?t*(t*-amount+1+amount):t*((2-t)*amount+(1-amount))}},Ease.getPowIn=function(pow){return function(t){return Math.pow(t,pow)}},Ease.getPowOut=function(pow){return function(t){return 1-Math.pow(1-t,pow)}},Ease.getPowInOut=function(pow){return function(t){return(t*=2)<1?.5*Math.pow(t,pow):1-.5*Math.abs(Math.pow(2-t,pow))}},Ease.quadIn=Ease.getPowIn(2),Ease.quadOut=Ease.getPowOut(2),Ease.quadInOut=Ease.getPowInOut(2),Ease.cubicIn=Ease.getPowIn(3),Ease.cubicOut=Ease.getPowOut(3),Ease.cubicInOut=Ease.getPowInOut(3),Ease.quartIn=Ease.getPowIn(4),Ease.quartOut=Ease.getPowOut(4),Ease.quartInOut=Ease.getPowInOut(4),Ease.quintIn=Ease.getPowIn(5),Ease.quintOut=Ease.getPowOut(5),Ease.quintInOut=Ease.getPowInOut(5),Ease.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},Ease.sineOut=function(t){return Math.sin(t*Math.PI/2)},Ease.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},Ease.getBackIn=function(amount){return function(t){return t*t*((amount+1)*t-amount)}},Ease.backIn=Ease.getBackIn(1.7),Ease.getBackOut=function(amount){return function(t){return--t*t*((amount+1)*t+amount)+1}},Ease.backOut=Ease.getBackOut(1.7),Ease.getBackInOut=function(amount){return amount*=1.525,function(t){return(t*=2)<1?t*t*((amount+1)*t-amount)*.5:.5*((t-=2)*t*((amount+1)*t+amount)+2)}},Ease.backInOut=Ease.getBackInOut(1.7),Ease.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},Ease.circOut=function(t){return Math.sqrt(1- --t*t)},Ease.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Ease.bounceIn=function(t){return 1-Ease.bounceOut(1-t)},Ease.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},Ease.bounceInOut=function(t){return t<.5?.5*Ease.bounceIn(2*t):.5*Ease.bounceOut(2*t-1)+.5},Ease.getElasticIn=function(amplitude,period){var pi2=2*Math.PI;return function(t){if(0==t||1==t)return t;var s=period/pi2*Math.asin(1/amplitude);return-amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-s)*pi2/period)}},Ease.elasticIn=Ease.getElasticIn(1,.3),Ease.getElasticOut=function(amplitude,period){var pi2=2*Math.PI;return function(t){if(0==t||1==t)return t;var s=period/pi2*Math.asin(1/amplitude);return amplitude*Math.pow(2,-10*t)*Math.sin((t-s)*pi2/period)+1}},Ease.elasticOut=Ease.getElasticOut(1,.3),Ease.getElasticInOut=function(amplitude,period){var pi2=2*Math.PI;return function(t){var s=period/pi2*Math.asin(1/amplitude);return(t*=2)<1?amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-s)*pi2/period)*-.5:amplitude*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*pi2/period)*.5+1}},Ease.elasticInOut=Ease.getElasticInOut(1,.3*1.5),createjs.Ease=Ease}(),this.createjs=this.createjs||{},function(){"use strict";function MotionGuidePlugin(){throw"MotionGuidePlugin cannot be instantiated."}var s=MotionGuidePlugin;s.priority=0,s.ID="MotionGuide",s.install=function(){return createjs.Tween._installPlugin(MotionGuidePlugin),createjs.Tween.IGNORE},s.init=function(tween,prop,value){"guide"==prop&&tween._addPlugin(s)},s.step=function(tween,step,props){for(var n in props)if("guide"===n){var guideData=step.props.guide,error=s._solveGuideData(props.guide,guideData);guideData.valid=!error;var end=guideData.endData;if(tween._injectProp("x",end.x),tween._injectProp("y",end.y),error||!guideData.orient)break;var initRot=void 0===step.prev.props.rotation?tween.target.rotation||0:step.prev.props.rotation;if(guideData.startOffsetRot=initRot-guideData.startData.rotation,"fixed"==guideData.orient)guideData.endAbsRot=end.rotation+guideData.startOffsetRot,guideData.deltaRotation=0;else{var finalRot=void 0===props.rotation?tween.target.rotation||0:props.rotation,deltaRot=finalRot-guideData.endData.rotation-guideData.startOffsetRot,modRot=deltaRot%360;switch(guideData.endAbsRot=finalRot,guideData.orient){case"auto":guideData.deltaRotation=deltaRot;break;case"cw":guideData.deltaRotation=(modRot+360)%360+360*Math.abs(deltaRot/360|0);break;case"ccw":guideData.deltaRotation=(modRot-360)%360+-360*Math.abs(deltaRot/360|0)}}tween._injectProp("rotation",guideData.endAbsRot)}},s.change=function(tween,step,prop,value,ratio,end){var guideData=step.props.guide;if(guideData&&step.props!==step.prev.props&&guideData!==step.prev.props.guide)return"guide"===prop&&!guideData.valid||"x"==prop||"y"==prop||"rotation"===prop&&guideData.orient?createjs.Tween.IGNORE:void s._ratioToPositionData(ratio,guideData,tween.target)},s.debug=function(guideData,ctx,higlight){guideData=guideData.guide||guideData;var err=s._findPathProblems(guideData),i;if(err&&console.error("MotionGuidePlugin Error found: \n"+err),!ctx)return err;var path=guideData.path,pathLength=path.length,width=3,length=9;for(ctx.save(),ctx.lineCap="round",ctx.lineJoin="miter",ctx.beginPath(),ctx.moveTo(path[0],path[1]),i=2;i<pathLength;i+=4)ctx.quadraticCurveTo(path[i],path[i+1],path[i+2],path[i+3]);ctx.strokeStyle="black",ctx.lineWidth=4.5,ctx.stroke(),ctx.strokeStyle="white",ctx.lineWidth=3,ctx.stroke(),ctx.closePath();var hiCount=higlight.length;if(higlight&&hiCount){var tempStore={},tempLook={};s._solveGuideData(guideData,tempStore);for(var i=0;i<hiCount;i++)tempStore.orient="fixed",s._ratioToPositionData(higlight[i],tempStore,tempLook),ctx.beginPath(),ctx.moveTo(tempLook.x,tempLook.y),ctx.lineTo(tempLook.x+9*Math.cos(.0174533*tempLook.rotation),tempLook.y+9*Math.sin(.0174533*tempLook.rotation)),ctx.strokeStyle="black",ctx.lineWidth=4.5,ctx.stroke(),ctx.strokeStyle="red",ctx.lineWidth=3,ctx.stroke(),ctx.closePath()}return ctx.restore(),err},s._solveGuideData=function(source,storage){var err=void 0;if(err=s.debug(source))return err;var path=storage.path=source.path,orient=storage.orient=source.orient;storage.subLines=[],storage.totalLength=0,storage.startOffsetRot=0,storage.deltaRotation=0,storage.startData={ratio:0},storage.endData={ratio:1},storage.animSpan=1;var pathLength=path.length,precision=10,sx,sy,cx,cy,ex,ey,i,j,len,temp={};for(sx=path[0],sy=path[1],i=2;i<pathLength;i+=4){cx=path[i],cy=path[i+1],ex=path[i+2],ey=path[i+3];var subLine={weightings:[],estLength:0,portion:0},subX=sx,subY=sy;for(j=1;j<=10;j++){s._getParamsForCurve(sx,sy,cx,cy,ex,ey,j/10,!1,temp);var dx=temp.x-subX,dy=temp.y-subY;len=Math.sqrt(dx*dx+dy*dy),subLine.weightings.push(len),subLine.estLength+=len,subX=temp.x,subY=temp.y}for(storage.totalLength+=subLine.estLength,j=0;j<10;j++)len=subLine.estLength,subLine.weightings[j]=subLine.weightings[j]/len;storage.subLines.push(subLine),sx=ex,sy=ey}len=storage.totalLength;var l=storage.subLines.length;for(i=0;i<l;i++)storage.subLines[i].portion=storage.subLines[i].estLength/len;var startRatio=isNaN(source.start)?0:source.start,endRatio=isNaN(source.end)?1:source.end;s._ratioToPositionData(startRatio,storage,storage.startData),s._ratioToPositionData(endRatio,storage,storage.endData),storage.startData.ratio=startRatio,storage.endData.ratio=endRatio,storage.animSpan=storage.endData.ratio-storage.startData.ratio},s._ratioToPositionData=function(ratio,guideData,output){var lineSegments=guideData.subLines,i,l,t,test,target,look=0,precision=10,effRatio=ratio*guideData.animSpan+guideData.startData.ratio;for(l=lineSegments.length,i=0;i<l;i++){if(look+(test=lineSegments[i].portion)>=effRatio){target=i;break}look+=test}void 0===target&&(target=l-1,look-=test);var subLines=lineSegments[target].weightings,portion=test;for(l=subLines.length,i=0;i<l&&!(look+(test=subLines[i]*portion)>=effRatio);i++)look+=test;target=4*target+2,t=i/10+(effRatio-look)/test*.1;var pathData=guideData.path;return s._getParamsForCurve(pathData[target-2],pathData[target-1],pathData[target],pathData[target+1],pathData[target+2],pathData[target+3],t,guideData.orient,output),guideData.orient&&(ratio>=.99999&&ratio<=1.00001&&void 0!==guideData.endAbsRot?output.rotation=guideData.endAbsRot:output.rotation+=guideData.startOffsetRot+ratio*guideData.deltaRotation),output},s._getParamsForCurve=function(sx,sy,cx,cy,ex,ey,t,orient,output){var inv=1-t;output.x=inv*inv*sx+2*inv*t*cx+t*t*ex,output.y=inv*inv*sy+2*inv*t*cy+t*t*ey,orient&&(output.rotation=57.2957795*Math.atan2((cy-sy)*inv+(ey-cy)*t,(cx-sx)*inv+(ex-cx)*t))},s._findPathProblems=function(guideData){var path=guideData.path,valueCount=path&&path.length||0;if(valueCount<6||(valueCount-2)%4){var message="\tCannot parse 'path' array due to invalid number of entries in path. ";return message+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",message+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n",message+="Only [ "+valueCount+" ] values found. Expected: "+Math.max(4*Math.ceil((valueCount-2)/4)+2,6)}for(var i=0;i<valueCount;i++)if(isNaN(path[i]))return"All data in path array must be numeric";var start=guideData.start;if(isNaN(start)&&void 0!==start)return"'start' out of bounds. Expected 0 to 1, got: "+start;var end=guideData.end;if(isNaN(end)&&void 0!==end)return"'end' out of bounds. Expected 0 to 1, got: "+end;var orient=guideData.orient;return orient&&"fixed"!=orient&&"auto"!=orient&&"cw"!=orient&&"ccw"!=orient?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+orient:void 0},createjs.MotionGuidePlugin=MotionGuidePlugin}(),this.createjs=this.createjs||{},function(){"use strict";var s=createjs.TweenJS=createjs.TweenJS||{};s.version="1.0.0",s.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}();