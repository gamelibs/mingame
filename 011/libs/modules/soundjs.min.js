/*!
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{},function(){var s=createjs.SoundJS=createjs.SoundJS||{};s.version="1.0.0",s.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(subclass,superclass){"use strict";function o(){this.constructor=subclass}return o.prototype=superclass.prototype,subclass.prototype=new o},this.createjs=this.createjs||{},createjs.promote=function(subclass,prefix){"use strict";var subP=subclass.prototype,supP=Object.getPrototypeOf&&Object.getPrototypeOf(subP)||subP.__proto__;if(supP)for(var n in subP[(prefix+="_")+"constructor"]=supP.constructor,supP)subP.hasOwnProperty(n)&&"function"==typeof supP[n]&&(subP[prefix+n]=supP[n]);return subclass},this.createjs=this.createjs||{},createjs.deprecate=function(fallbackMethod,name){"use strict";return function(){var msg="Deprecated property or method '"+name+"'. See docs for info.";return console&&(console.warn?console.warn(msg):console.log(msg)),fallbackMethod&&fallbackMethod.apply(this,arguments)}},this.createjs=this.createjs||{},createjs.indexOf=function(array,searchElement){"use strict";for(var i=0,l=array.length;i<l;i++)if(searchElement===array[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(method,scope){var aArgs=Array.prototype.slice.call(arguments,2);return function(){return method.apply(scope,Array.prototype.slice.call(arguments,0).concat(aArgs))}}}(),this.createjs=this.createjs||{},function(){"use strict";function BrowserDetect(){throw"BrowserDetect cannot be instantiated"}var agent=BrowserDetect.agent=window.navigator.userAgent;BrowserDetect.isWindowPhone=agent.indexOf("IEMobile")>-1||agent.indexOf("Windows Phone")>-1,BrowserDetect.isFirefox=agent.indexOf("Firefox")>-1,BrowserDetect.isOpera=null!=window.opera,BrowserDetect.isChrome=agent.indexOf("Chrome")>-1,BrowserDetect.isIOS=(agent.indexOf("iPod")>-1||agent.indexOf("iPhone")>-1||agent.indexOf("iPad")>-1)&&!BrowserDetect.isWindowPhone,BrowserDetect.isAndroid=agent.indexOf("Android")>-1&&!BrowserDetect.isWindowPhone,BrowserDetect.isBlackberry=agent.indexOf("Blackberry")>-1,createjs.BrowserDetect=BrowserDetect}(),this.createjs=this.createjs||{},function(){"use strict";function EventDispatcher(){this._listeners=null,this._captureListeners=null}var p=EventDispatcher.prototype;EventDispatcher.initialize=function(target){target.addEventListener=p.addEventListener,target.on=p.on,target.removeEventListener=target.off=p.removeEventListener,target.removeAllEventListeners=p.removeAllEventListeners,target.hasEventListener=p.hasEventListener,target.dispatchEvent=p.dispatchEvent,target._dispatchEvent=p._dispatchEvent,target.willTrigger=p.willTrigger},p.addEventListener=function(type,listener,useCapture){var listeners,arr=(listeners=useCapture?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[type];return arr&&this.removeEventListener(type,listener,useCapture),(arr=listeners[type])?arr.push(listener):listeners[type]=[listener],listener},p.on=function(type,listener,scope,once,data,useCapture){return listener.handleEvent&&(scope=scope||listener,listener=listener.handleEvent),scope=scope||this,this.addEventListener(type,(function(evt){listener.call(scope,evt,data),once&&evt.remove()}),useCapture)},p.removeEventListener=function(type,listener,useCapture){var listeners=useCapture?this._captureListeners:this._listeners;if(listeners){var arr=listeners[type];if(arr)for(var i=0,l=arr.length;i<l;i++)if(arr[i]==listener){1==l?delete listeners[type]:arr.splice(i,1);break}}},p.off=p.removeEventListener,p.removeAllEventListeners=function(type){type?(this._listeners&&delete this._listeners[type],this._captureListeners&&delete this._captureListeners[type]):this._listeners=this._captureListeners=null},p.dispatchEvent=function(eventObj,bubbles,cancelable){if("string"==typeof eventObj){var listeners=this._listeners;if(!(bubbles||listeners&&listeners[eventObj]))return!0;eventObj=new createjs.Event(eventObj,bubbles,cancelable)}else eventObj.target&&eventObj.clone&&(eventObj=eventObj.clone());try{eventObj.target=this}catch(e){}if(eventObj.bubbles&&this.parent){for(var top=this,list=[top];top.parent;)list.push(top=top.parent);var i,l=list.length;for(i=l-1;i>=0&&!eventObj.propagationStopped;i--)list[i]._dispatchEvent(eventObj,1+(0==i));for(i=1;i<l&&!eventObj.propagationStopped;i++)list[i]._dispatchEvent(eventObj,3)}else this._dispatchEvent(eventObj,2);return!eventObj.defaultPrevented},p.hasEventListener=function(type){var listeners=this._listeners,captureListeners=this._captureListeners;return!!(listeners&&listeners[type]||captureListeners&&captureListeners[type])},p.willTrigger=function(type){for(var o=this;o;){if(o.hasEventListener(type))return!0;o=o.parent}return!1},p.toString=function(){return"[EventDispatcher]"},p._dispatchEvent=function(eventObj,eventPhase){var l,arr,listeners=eventPhase<=2?this._captureListeners:this._listeners;if(eventObj&&listeners&&(arr=listeners[eventObj.type])&&(l=arr.length)){try{eventObj.currentTarget=this}catch(e){}try{eventObj.eventPhase=0|eventPhase}catch(e){}eventObj.removed=!1,arr=arr.slice();for(var i=0;i<l&&!eventObj.immediatePropagationStopped;i++){var o=arr[i];o.handleEvent?o.handleEvent(eventObj):o(eventObj),eventObj.removed&&(this.off(eventObj.type,o,1==eventPhase),eventObj.removed=!1)}}2===eventPhase&&this._dispatchEvent(eventObj,2.1)},createjs.EventDispatcher=EventDispatcher}(),this.createjs=this.createjs||{},function(){"use strict";function Event(type,bubbles,cancelable){this.type=type,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!bubbles,this.cancelable=!!cancelable,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var p=Event.prototype;p.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},p.stopPropagation=function(){this.propagationStopped=!0},p.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},p.remove=function(){this.removed=!0},p.clone=function(){return new Event(this.type,this.bubbles,this.cancelable)},p.set=function(props){for(var n in props)this[n]=props[n];return this},p.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=Event}(),this.createjs=this.createjs||{},function(){"use strict";function ErrorEvent(title,message,data){this.Event_constructor("error"),this.title=title,this.message=message,this.data=data}var p;createjs.extend(ErrorEvent,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(ErrorEvent,"Event")}(),this.createjs=this.createjs||{},function(scope){"use strict";function ProgressEvent(loaded,total){this.Event_constructor("progress"),this.loaded=loaded,this.total=null==total?1:total,this.progress=0==total?0:this.loaded/this.total}var p;createjs.extend(ProgressEvent,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(ProgressEvent,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function LoadItem(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=s.LOAD_TIMEOUT_DEFAULT}var p=LoadItem.prototype={},s=LoadItem;s.LOAD_TIMEOUT_DEFAULT=8e3,s.create=function(value){if("string"==typeof value){var item=new LoadItem;return item.src=value,item}if(value instanceof s)return value;if(value instanceof Object&&value.src)return null==value.loadTimeout&&(value.loadTimeout=s.LOAD_TIMEOUT_DEFAULT),value;throw new Error("Type not recognized.")},p.set=function(props){for(var n in props)this[n]=props[n];return this},createjs.LoadItem=s}(),this.createjs=this.createjs||{},function(){var s={POST:"POST",GET:"GET"};createjs.Methods=s}(),this.createjs=this.createjs||{},function(){var s={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"};createjs.Types=s}(),function(){var s={a:function(){return s.el("a")},svg:function(){return s.el("svg")},object:function(){return s.el("object")},image:function(){return s.el("image")},img:function(){return s.el("img")},style:function(){return s.el("style")},link:function(){return s.el("link")},script:function(){return s.el("script")},audio:function(){return s.el("audio")},video:function(){return s.el("video")},text:function(value){return document.createTextNode(value)},el:function(name){return document.createElement(name)}};createjs.Elements=s}(),function(){var s={container:null,appendToHead:function(el){s.getHead().appendChild(el)},appendToBody:function(el){if(null==s.container){s.container=document.createElement("div"),s.container.id="preloadjs-container";var style=s.container.style;style.visibility="hidden",style.position="absolute",style.width=s.container.style.height="10px",style.overflow="hidden",style.transform=style.msTransform=style.webkitTransform=style.oTransform="translate(-10px, -10px)",s.getBody().appendChild(s.container)}s.container.appendChild(el)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(el){el.parent&&el.parent.removeChild(el)},isImageTag:function(item){return item instanceof HTMLImageElement},isAudioTag:function(item){return!!window.HTMLAudioElement&&item instanceof HTMLAudioElement},isVideoTag:function(item){return!!window.HTMLVideoElement&&item instanceof HTMLVideoElement}};createjs.DomUtils=s}(),function(){var s={isBinary:function(type){switch(type){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},isText:function(type){switch(type){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(extension){if(null==extension)return createjs.Types.TEXT;switch(extension.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}}};createjs.RequestUtils=s}(),function(){var s={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(path){var info={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==path)return info;var parser=createjs.Elements.a();for(var n in parser.href=path,info)n in parser&&(info[n]=parser[n]);var queryIndex=path.indexOf("?"),match;return queryIndex>-1&&(path=path.substr(0,queryIndex)),s.ABSOLUTE_PATT.test(path)?info.absolute=!0:s.RELATIVE_PATT.test(path)&&(info.relative=!0),(match=path.match(s.EXTENSION_PATT))&&(info.extension=match[1].toLowerCase()),info},formatQueryString:function(data,query){if(null==data)throw new Error("You must specify data.");var params=[];for(var n in data)params.push(n+"="+escape(data[n]));return query&&(params=params.concat(query)),params.join("&")},buildURI:function(src,data){if(null==data)return src;var query=[],idx=src.indexOf("?");if(-1!=idx){var q=src.slice(idx+1);query=query.concat(q.split("&"))}return-1!=idx?src.slice(0,idx)+"?"+this.formatQueryString(data,query):src+"?"+this.formatQueryString(data,query)},isCrossDomain:function(item){var target=createjs.Elements.a();target.href=item.src;var host=createjs.Elements.a(),crossdomain;return host.href=location.href,""!=target.hostname&&(target.port!=host.port||target.protocol!=host.protocol||target.hostname!=host.hostname)},isLocal:function(item){var target=createjs.Elements.a();return target.href=item.src,""==target.hostname&&"file:"==target.protocol}};createjs.URLUtils=s}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractLoader(loadItem,preferXHR,type){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=type,this.resultFormatter=null,this._item=loadItem?createjs.LoadItem.create(loadItem):null,this._preferXHR=preferXHR,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var p=createjs.extend(AbstractLoader,createjs.EventDispatcher),s=AbstractLoader;try{Object.defineProperties(s,{POST:{get:createjs.deprecate((function(){return createjs.Methods.POST}),"AbstractLoader.POST")},GET:{get:createjs.deprecate((function(){return createjs.Methods.GET}),"AbstractLoader.GET")},BINARY:{get:createjs.deprecate((function(){return createjs.Types.BINARY}),"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate((function(){return createjs.Types.CSS}),"AbstractLoader.CSS")},FONT:{get:createjs.deprecate((function(){return createjs.Types.FONT}),"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate((function(){return createjs.Types.FONTCSS}),"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate((function(){return createjs.Types.IMAGE}),"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate((function(){return createjs.Types.JAVASCRIPT}),"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate((function(){return createjs.Types.JSON}),"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate((function(){return createjs.Types.JSONP}),"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate((function(){return createjs.Types.MANIFEST}),"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate((function(){return createjs.Types.SOUND}),"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate((function(){return createjs.Types.VIDEO}),"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate((function(){return createjs.Types.SPRITESHEET}),"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate((function(){return createjs.Types.SVG}),"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate((function(){return createjs.Types.TEXT}),"AbstractLoader.TEXT")},XML:{get:createjs.deprecate((function(){return createjs.Types.XML}),"AbstractLoader.XML")}})}catch(e){}p.getItem=function(){return this._item},p.getResult=function(raw){return raw?this._rawResult:this._result},p.getTag=function(){return this._tag},p.setTag=function(tag){this._tag=tag},p.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var evt=new createjs.Event("initialize");evt.loader=this._request,this.dispatchEvent(evt),this._request.load()},p.cancel=function(){this.canceled=!0,this.destroy()},p.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},p.getLoadedItems=function(){return this._loadedItems},p._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},p._createTag=function(src){return null},p._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},p._sendProgress=function(value){if(!this._isCanceled()){var event=null;"number"==typeof value?(this.progress=value,event=new createjs.ProgressEvent(this.progress)):(event=value,this.progress=value.loaded/value.total,event.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(event)}},p._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var event=new createjs.Event("complete");event.rawResult=this._rawResult,null!=this._result&&(event.result=this._result),this.dispatchEvent(event)}},p._sendError=function(event){!this._isCanceled()&&this.hasEventListener("error")&&(null==event&&(event=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(event))},p._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},p.resultFormatter=null,p.handleEvent=function(event){switch(event.type){case"complete":this._rawResult=event.target._response;var result=this.resultFormatter&&this.resultFormatter(this);result instanceof Function?result.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=result||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(event);break;case"error":this._sendError(event);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+event.type.toUpperCase()+"_ERROR"))}},p._resultFormatSuccess=function(result){this._result=result,this._sendComplete()},p._resultFormatFailed=function(event){this._sendError(event)},p.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(AbstractLoader,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractMediaLoader(loadItem,preferXHR,type){this.AbstractLoader_constructor(loadItem,preferXHR,type),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var p=createjs.extend(AbstractMediaLoader,createjs.AbstractLoader);p.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},p._createTag=function(){},p._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},p._updateXHR=function(event){event.loader.setResponseType&&event.loader.setResponseType("blob")},p._formatResult=function(loader){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var URL=window.URL||window.webkitURL,result=loader.getResult(!0);loader.getTag().src=URL.createObjectURL(result)}return loader.getTag()},createjs.AbstractMediaLoader=createjs.promote(AbstractMediaLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var AbstractRequest=function(item){this._item=item},p=createjs.extend(AbstractRequest,createjs.EventDispatcher);p.load=function(){},p.destroy=function(){},p.cancel=function(){},createjs.AbstractRequest=createjs.promote(AbstractRequest,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function TagRequest(loadItem,tag,srcAttribute){this.AbstractRequest_constructor(loadItem),this._tag=tag,this._tagSrcAttribute=srcAttribute,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var p=createjs.extend(TagRequest,createjs.AbstractRequest);p.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var evt=new createjs.Event("initialize");evt.loader=this._tag,this.dispatchEvent(evt),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},p.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},p._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var tag=this._tag;"loaded"!=tag.readyState&&"complete"!=tag.readyState||this._handleTagComplete()},p._handleError=function(){this._clean(),this.dispatchEvent("error")},p._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},p._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},p._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},p._handleStalled=function(){},createjs.TagRequest=createjs.promote(TagRequest,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function MediaTagRequest(loadItem,tag,srcAttribute){this.AbstractRequest_constructor(loadItem),this._tag=tag,this._tagSrcAttribute=srcAttribute,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var p=createjs.extend(MediaTagRequest,createjs.TagRequest),s=MediaTagRequest;p.load=function(){var sc=createjs.proxy(this._handleStalled,this);this._stalledCallback=sc;var pc=createjs.proxy(this._handleProgress,this);this._handleProgress=pc,this._tag.addEventListener("stalled",sc),this._tag.addEventListener("progress",pc),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},p._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var tag=this._tag;"loaded"!=tag.readyState&&"complete"!=tag.readyState||this._handleTagComplete()},p._handleStalled=function(){},p._handleProgress=function(event){if(event&&!(event.loaded>0&&0==event.total)){var newEvent=new createjs.ProgressEvent(event.loaded,event.total);this.dispatchEvent(newEvent)}},p._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(MediaTagRequest,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function XHRRequest(item){this.AbstractRequest_constructor(item),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(item)}var p=createjs.extend(XHRRequest,createjs.AbstractRequest);XHRRequest.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],p.getResult=function(raw){return raw&&this._rawResponse?this._rawResponse:this._response},p.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},p.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(error){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,error))}}else this._handleError()},p.setResponseType=function(type){"blob"===type&&(type=window.URL?"blob":"arraybuffer",this._responseType=type),this._request.responseType=type},p.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},p.getResponseHeader=function(header){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(header):null},p._handleProgress=function(event){if(event&&!(event.loaded>0&&0==event.total)){var newEvent=new createjs.ProgressEvent(event.loaded,event.total);this.dispatchEvent(newEvent)}},p._handleLoadStart=function(event){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},p._handleAbort=function(event){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,event))},p._handleError=function(event){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(event.message))},p._handleReadyStateChange=function(event){4==this._request.readyState&&this._handleLoad()},p._handleLoad=function(event){if(!this.loaded){this.loaded=!0;var error=this._checkError();if(error)this._handleError(error);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var builder=new BlobBuilder;builder.append(this._response),this._response=builder.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}}},p._handleTimeout=function(event){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,event))},p._checkError=function(){var status=parseInt(this._request.status);return status>=400&&status<=599?new Error(status):0==status&&/^https?:/.test(location.protocol)?new Error(0):null},p._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},p._createXHR=function(item){var crossdomain=createjs.URLUtils.isCrossDomain(item),headers={},req=null;if(window.XMLHttpRequest)req=new XMLHttpRequest,crossdomain&&void 0===req.withCredentials&&window.XDomainRequest&&(req=new XDomainRequest);else{for(var i=0,l=s.ACTIVEX_VERSIONS.length;i<l;i++){var axVersion=s.ACTIVEX_VERSIONS[i];try{req=new ActiveXObject(axVersion);break}catch(e){}}if(null==req)return!1}null==item.mimeType&&createjs.RequestUtils.isText(item.type)&&(item.mimeType="text/plain; charset=utf-8"),item.mimeType&&req.overrideMimeType&&req.overrideMimeType(item.mimeType),this._xhrLevel="string"==typeof req.responseType?2:1;var src=null;if(src=item.method==createjs.Methods.GET?createjs.URLUtils.buildURI(item.src,item.values):item.src,req.open(item.method||createjs.Methods.GET,src,!0),crossdomain&&req instanceof XMLHttpRequest&&1==this._xhrLevel&&(headers.Origin=location.origin),item.values&&item.method==createjs.Methods.POST&&(headers["Content-Type"]="application/x-www-form-urlencoded"),crossdomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),item.headers)for(var n in item.headers)headers[n]=item.headers[n];for(n in headers)req.setRequestHeader(n,headers[n]);return req instanceof XMLHttpRequest&&void 0!==item.withCredentials&&(req.withCredentials=item.withCredentials),this._request=req,!0},p._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},p.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(XHRRequest,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function SoundLoader(loadItem,preferXHR){this.AbstractMediaLoader_constructor(loadItem,preferXHR,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(loadItem)?this._tag=loadItem:createjs.DomUtils.isAudioTag(loadItem.src)?this._tag=loadItem:createjs.DomUtils.isAudioTag(loadItem.tag)&&(this._tag=createjs.DomUtils.isAudioTag(loadItem)?loadItem:loadItem.src),null!=this._tag&&(this._preferXHR=!1)}var p=createjs.extend(SoundLoader,createjs.AbstractMediaLoader),s;SoundLoader.canLoadItem=function(item){return item.type==createjs.Types.SOUND},p._createTag=function(src){var tag=createjs.Elements.audio();return tag.autoplay=!1,tag.preload="none",tag.src=src,tag},createjs.SoundLoader=createjs.promote(SoundLoader,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var PlayPropsConfig=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},p=PlayPropsConfig.prototype={},s=PlayPropsConfig;s.create=function(value){if("string"==typeof value)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new createjs.PlayPropsConfig).set({interrupt:value});if(null==value||value instanceof s||value instanceof Object)return(new createjs.PlayPropsConfig).set(value);if(null==value)throw new Error("PlayProps configuration not recognized.")},p.set=function(props){if(null!=props)for(var n in props)this[n]=props[n];return this},p.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=s}(),this.createjs=this.createjs||{},function(){"use strict";function Sound(){throw"Sound cannot be instantiated"}var s=Sound;function SoundChannel(src,max){this.init(src,max)}s.INTERRUPT_ANY="any",s.INTERRUPT_EARLY="early",s.INTERRUPT_LATE="late",s.INTERRUPT_NONE="none",s.PLAY_INITED="playInited",s.PLAY_SUCCEEDED="playSucceeded",s.PLAY_INTERRUPTED="playInterrupted",s.PLAY_FINISHED="playFinished",s.PLAY_FAILED="playFailed",s.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],s.EXTENSION_MAP={m4a:"mp4"},s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,s.defaultInterruptBehavior=s.INTERRUPT_NONE,s.alternateExtensions=[],s.activePlugin=null,s._masterVolume=1,s._getMasterVolume=function(){return this._masterVolume},s.getVolume=createjs.deprecate(s._getMasterVolume,"Sound.getVolume"),s._setMasterVolume=function(value){if(null!=Number(value)&&(value=Math.max(0,Math.min(1,value)),s._masterVolume=value,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(value)))for(var instances=this._instances,i=0,l=instances.length;i<l;i++)instances[i].setMasterVolume(value)},s.setVolume=createjs.deprecate(s._setMasterVolume,"Sound.setVolume"),s._masterMute=!1,s._getMute=function(){return this._masterMute},s.getMute=createjs.deprecate(s._getMute,"Sound.getMute"),s._setMute=function(value){if(null!=value&&(this._masterMute=value,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(value)))for(var instances=this._instances,i=0,l=instances.length;i<l;i++)instances[i].setMasterMute(value)},s.setMute=createjs.deprecate(s._setMute,"Sound.setMute"),s._getCapabilities=function(){return null==s.activePlugin?null:s.activePlugin._capabilities},s.getCapabilities=createjs.deprecate(s._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(s,{volume:{get:s._getMasterVolume,set:s._setMasterVolume},muted:{get:s._getMute,set:s._setMute},capabilities:{get:s._getCapabilities}}),s._pluginsRegistered=!1,s._lastID=0,s._instances=[],s._idHash={},s._preloadHash={},s._defaultPlayPropsHash={},s.addEventListener=null,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}},s._handleLoadComplete=function(event){var src=event.target.getItem().src;if(s._preloadHash[src])for(var i=0,l=s._preloadHash[src].length;i<l;i++){var item=s._preloadHash[src][i],event;if(s._preloadHash[src][i]=!0,s.hasEventListener("fileload"))(event=new createjs.Event("fileload")).src=item.src,event.id=item.id,event.data=item.data,event.sprite=item.sprite,s.dispatchEvent(event)}},s._handleLoadError=function(event){var src=event.target.getItem().src;if(s._preloadHash[src])for(var i=0,l=s._preloadHash[src].length;i<l;i++){var item=s._preloadHash[src][i],event;if(s._preloadHash[src][i]=!1,s.hasEventListener("fileerror"))(event=new createjs.Event("fileerror")).src=item.src,event.id=item.id,event.data=item.data,event.sprite=item.sprite,s.dispatchEvent(event)}},s._registerPlugin=function(plugin){return!!plugin.isSupported()&&(s.activePlugin=new plugin,!0)},s.registerPlugins=function(plugins){s._pluginsRegistered=!0;for(var i=0,l=plugins.length;i<l;i++)if(s._registerPlugin(plugins[i]))return!0;return!1},s.initializeDefaultPlugins=function(){return null!=s.activePlugin||!s._pluginsRegistered&&!!s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},s.isReady=function(){return null!=s.activePlugin},s.initLoad=function(loadItem){return"video"==loadItem.type||s._registerSound(loadItem)},s._registerSound=function(loadItem){if(!s.initializeDefaultPlugins())return!1;var details;if(loadItem.src instanceof Object?(details=s._parseSrc(loadItem.src)).src=loadItem.path+details.src:details=s._parsePath(loadItem.src),null==details)return!1;loadItem.src=details.src,loadItem.type="sound";var data=loadItem.data,numChannels=null;if(null!=data&&(isNaN(data.channels)?isNaN(data)||(numChannels=parseInt(data)):numChannels=parseInt(data.channels),data.audioSprite))for(var sp,i=data.audioSprite.length;i--;)sp=data.audioSprite[i],s._idHash[sp.id]={src:loadItem.src,startTime:parseInt(sp.startTime),duration:parseInt(sp.duration)},sp.defaultPlayProps&&(s._defaultPlayPropsHash[sp.id]=createjs.PlayPropsConfig.create(sp.defaultPlayProps));null!=loadItem.id&&(s._idHash[loadItem.id]={src:loadItem.src});var loader=s.activePlugin.register(loadItem);return SoundChannel.create(loadItem.src,numChannels),null!=data&&isNaN(data)?loadItem.data.channels=numChannels||SoundChannel.maxPerChannel():loadItem.data=numChannels||SoundChannel.maxPerChannel(),loader.type&&(loadItem.type=loader.type),loadItem.defaultPlayProps&&(s._defaultPlayPropsHash[loadItem.src]=createjs.PlayPropsConfig.create(loadItem.defaultPlayProps)),loader},s.registerSound=function(src,id,data,basePath,defaultPlayProps){var loadItem={src:src,id:id,data:data,defaultPlayProps:defaultPlayProps};src instanceof Object&&src.src&&(basePath=id,loadItem=src),(loadItem=createjs.LoadItem.create(loadItem)).path=basePath,null==basePath||loadItem.src instanceof Object||(loadItem.src=basePath+loadItem.src);var loader=s._registerSound(loadItem);if(!loader)return!1;if(s._preloadHash[loadItem.src]||(s._preloadHash[loadItem.src]=[]),s._preloadHash[loadItem.src].push(loadItem),1==s._preloadHash[loadItem.src].length)loader.on("complete",this._handleLoadComplete,this),loader.on("error",this._handleLoadError,this),s.activePlugin.preload(loader);else if(1==s._preloadHash[loadItem.src][0])return!0;return loadItem},s.registerSounds=function(sounds,basePath){var returnValues=[];sounds.path&&(basePath?basePath+=sounds.path:basePath=sounds.path,sounds=sounds.manifest);for(var i=0,l=sounds.length;i<l;i++)returnValues[i]=createjs.Sound.registerSound(sounds[i].src,sounds[i].id,sounds[i].data,basePath,sounds[i].defaultPlayProps);return returnValues},s.removeSound=function(src,basePath){if(null==s.activePlugin)return!1;var details;if(src instanceof Object&&src.src&&(src=src.src),src instanceof Object?details=s._parseSrc(src):(src=s._getSrcById(src).src,details=s._parsePath(src)),null==details)return!1;for(var prop in src=details.src,null!=basePath&&(src=basePath+src),s._idHash)s._idHash[prop].src==src&&delete s._idHash[prop];return SoundChannel.removeSrc(src),delete s._preloadHash[src],s.activePlugin.removeSound(src),!0},s.removeSounds=function(sounds,basePath){var returnValues=[];sounds.path&&(basePath?basePath+=sounds.path:basePath=sounds.path,sounds=sounds.manifest);for(var i=0,l=sounds.length;i<l;i++)returnValues[i]=createjs.Sound.removeSound(sounds[i].src,basePath);return returnValues},s.removeAllSounds=function(){s._idHash={},s._preloadHash={},SoundChannel.removeAll(),s.activePlugin&&s.activePlugin.removeAllSounds()},s.loadComplete=function(src){if(!s.isReady())return!1;var details=s._parsePath(src);return src=details?s._getSrcById(details.src).src:s._getSrcById(src).src,null!=s._preloadHash[src]&&1==s._preloadHash[src][0]},s._parsePath=function(value){"string"!=typeof value&&(value=value.toString());var match=value.match(s.FILE_PATTERN),ret;if(null==match)return!1;for(var name=match[4],ext=match[5],c=s.capabilities,i=0;!c[ext];)if(ext=s.alternateExtensions[i++],i>s.alternateExtensions.length)return null;return{name:name,src:value=value.replace("."+match[5],"."+ext),extension:ext}},s._parseSrc=function(value){var ret={name:void 0,src:void 0,extension:void 0},c=s.capabilities;for(var prop in value)if(value.hasOwnProperty(prop)&&c[prop]){ret.src=value[prop],ret.extension=prop;break}if(!ret.src)return!1;var i=ret.src.lastIndexOf("/");return ret.name=-1!=i?ret.src.slice(i+1):ret.src,ret},s.play=function(src,props){var playProps=createjs.PlayPropsConfig.create(props),instance=s.createInstance(src,playProps.startTime,playProps.duration),ok;return s._playInstance(instance,playProps)||instance._playFailed(),instance},s.createInstance=function(src,startTime,duration){if(!s.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(src,startTime,duration);var defaultPlayProps=s._defaultPlayPropsHash[src];src=s._getSrcById(src);var details=s._parsePath(src.src),instance=null;return null!=details&&null!=details.src?(SoundChannel.create(details.src),null==startTime&&(startTime=src.startTime),instance=s.activePlugin.create(details.src,startTime,duration||src.duration),(defaultPlayProps=defaultPlayProps||s._defaultPlayPropsHash[details.src])&&instance.applyPlayProps(defaultPlayProps)):instance=new createjs.DefaultSoundInstance(src,startTime,duration),instance.uniqueId=s._lastID++,instance},s.stop=function(){for(var instances=this._instances,i=instances.length;i--;)instances[i].stop()},s.setDefaultPlayProps=function(src,playProps){src=s._getSrcById(src),s._defaultPlayPropsHash[s._parsePath(src.src).src]=createjs.PlayPropsConfig.create(playProps)},s.getDefaultPlayProps=function(src){return src=s._getSrcById(src),s._defaultPlayPropsHash[s._parsePath(src.src).src]},s._playInstance=function(instance,playProps){var defaultPlayProps=s._defaultPlayPropsHash[instance.src]||{};if(null==playProps.interrupt&&(playProps.interrupt=defaultPlayProps.interrupt||s.defaultInterruptBehavior),null==playProps.delay&&(playProps.delay=defaultPlayProps.delay||0),null==playProps.offset&&(playProps.offset=instance.position),null==playProps.loop&&(playProps.loop=instance.loop),null==playProps.volume&&(playProps.volume=instance.volume),null==playProps.pan&&(playProps.pan=instance.pan),0==playProps.delay){var ok;if(!s._beginPlaying(instance,playProps))return!1}else{var delayTimeoutId=setTimeout((function(){s._beginPlaying(instance,playProps)}),playProps.delay);instance.delayTimeoutId=delayTimeoutId}return this._instances.push(instance),!0},s._beginPlaying=function(instance,playProps){if(!SoundChannel.add(instance,playProps.interrupt))return!1;var result;if(!instance._beginPlaying(playProps)){var index=createjs.indexOf(this._instances,instance);return index>-1&&this._instances.splice(index,1),!1}return!0},s._getSrcById=function(value){return s._idHash[value]||{src:value}},s._playFinished=function(instance){SoundChannel.remove(instance);var index=createjs.indexOf(this._instances,instance);index>-1&&this._instances.splice(index,1)},createjs.Sound=Sound,SoundChannel.channels={},SoundChannel.create=function(src,max){var channel;return null==SoundChannel.get(src)&&(SoundChannel.channels[src]=new SoundChannel(src,max),!0)},SoundChannel.removeSrc=function(src){var channel=SoundChannel.get(src);return null!=channel&&(channel._removeAll(),delete SoundChannel.channels[src],!0)},SoundChannel.removeAll=function(){for(var channel in SoundChannel.channels)SoundChannel.channels[channel]._removeAll();SoundChannel.channels={}},SoundChannel.add=function(instance,interrupt){var channel=SoundChannel.get(instance.src);return null!=channel&&channel._add(instance,interrupt)},SoundChannel.remove=function(instance){var channel=SoundChannel.get(instance.src);return null!=channel&&(channel._remove(instance),!0)},SoundChannel.maxPerChannel=function(){return p.maxDefault},SoundChannel.get=function(src){return SoundChannel.channels[src]};var p=SoundChannel.prototype;p.constructor=SoundChannel,p.src=null,p.max=null,p.maxDefault=100,p.length=0,p.init=function(src,max){this.src=src,this.max=max||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},p._get=function(index){return this._instances[index]},p._add=function(instance,interrupt){return!!this._getSlot(interrupt,instance)&&(this._instances.push(instance),this.length++,!0)},p._remove=function(instance){var index=createjs.indexOf(this._instances,instance);return-1!=index&&(this._instances.splice(index,1),this.length--,!0)},p._removeAll=function(){for(var i=this.length-1;i>=0;i--)this._instances[i].stop()},p._getSlot=function(interrupt,instance){var target,replacement;if(interrupt!=Sound.INTERRUPT_NONE&&null==(replacement=this._get(0)))return!0;for(var i=0,l=this.max;i<l;i++){if(null==(target=this._get(i)))return!0;if(target.playState==Sound.PLAY_FINISHED||target.playState==Sound.PLAY_INTERRUPTED||target.playState==Sound.PLAY_FAILED){replacement=target;break}interrupt!=Sound.INTERRUPT_NONE&&((interrupt==Sound.INTERRUPT_EARLY&&target.position<replacement.position||interrupt==Sound.INTERRUPT_LATE&&target.position>replacement.position)&&(replacement=target))}return null!=replacement&&(replacement._interrupt(),this._remove(replacement),!0)},p.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var AbstractSoundInstance=function(src,startTime,duration,playbackResource){this.EventDispatcher_constructor(),this.src=src,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this.getVolume=createjs.deprecate(this._getVolume,"AbstractSoundInstance.getVolume"),this.setVolume=createjs.deprecate(this._setVolume,"AbstractSoundInstance.setVolume"),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this.getPan=createjs.deprecate(this._getPan,"AbstractSoundInstance.getPan"),this.setPan=createjs.deprecate(this._setPan,"AbstractSoundInstance.setPan"),this._startTime=Math.max(0,startTime||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=createjs.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime"),this.setStartTime=createjs.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime"),this._duration=Math.max(0,duration||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this.getDuration=createjs.deprecate(this._getDuration,"AbstractSoundInstance.getDuration"),this.setDuration=createjs.deprecate(this._setDuration,"AbstractSoundInstance.setDuration"),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==playbackResource&&!0!==playbackResource&&this._setPlaybackResource(playbackResource),this.getPlaybackResource=createjs.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource"),this.setPlaybackResource=createjs.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource"),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this.getPosition=createjs.deprecate(this._getPosition,"AbstractSoundInstance.getPosition"),this.setPosition=createjs.deprecate(this._setPosition,"AbstractSoundInstance.setPosition"),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this.getLoop=createjs.deprecate(this._getLoop,"AbstractSoundInstance.getLoop"),this.setLoop=createjs.deprecate(this._setLoop,"AbstractSoundInstance.setLoop"),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this.getMuted=createjs.deprecate(this._getMuted,"AbstractSoundInstance.getMuted"),this.setMuted=createjs.deprecate(this._setMuted,"AbstractSoundInstance.setMuted"),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused}),this.getPaused=createjs.deprecate(this._getPaused,"AbstractSoundInstance.getPaused"),this.setPaused=createjs.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},p=createjs.extend(AbstractSoundInstance,createjs.EventDispatcher);p.play=function(props){var playProps=createjs.PlayPropsConfig.create(props);return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(playProps),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,playProps),this)},p.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},p.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},p.applyPlayProps=function(playProps){return null!=playProps.offset&&this._setPosition(playProps.offset),null!=playProps.loop&&this._setLoop(playProps.loop),null!=playProps.volume&&this._setVolume(playProps.volume),null!=playProps.pan&&this._setPan(playProps.pan),null!=playProps.startTime&&(this._setStartTime(playProps.startTime),this._setDuration(playProps.duration)),this},p.toString=function(){return"[AbstractSoundInstance]"},p._getPaused=function(){return this._paused},p._setPaused=function(value){if(!(!0!==value&&!1!==value||this._paused==value||1==value&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return this._paused=value,value?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},p._setVolume=function(value){return value==this._volume?this:(this._volume=Math.max(0,Math.min(1,value)),this._muted||this._updateVolume(),this)},p._getVolume=function(){return this._volume},p._setMuted=function(value){if(!0===value||!1===value)return this._muted=value,this._updateVolume(),this},p._getMuted=function(){return this._muted},p._setPan=function(value){return value==this._pan?this:(this._pan=Math.max(-1,Math.min(1,value)),this._updatePan(),this)},p._getPan=function(){return this._pan},p._getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},p._setPosition=function(value){return this._position=Math.max(0,value),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},p._getStartTime=function(){return this._startTime},p._setStartTime=function(value){return value==this._startTime?this:(this._startTime=Math.max(0,value||0),this._updateStartTime(),this)},p._getDuration=function(){return this._duration},p._setDuration=function(value){return value==this._duration?this:(this._duration=Math.max(0,value||0),this._updateDuration(),this)},p._setPlaybackResource=function(value){return this._playbackResource=value,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},p._getPlaybackResource=function(){return this._playbackResource},p._getLoop=function(){return this._loop},p._setLoop=function(value){null!=this._playbackResource&&(0!=this._loop&&0==value?this._removeLooping(value):0==this._loop&&0!=value&&this._addLooping(value)),this._loop=value},p._sendEvent=function(type){var event=new createjs.Event(type);this.dispatchEvent(event)},p._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},p._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},p._beginPlaying=function(playProps){return this._setPosition(playProps.offset),this._setLoop(playProps.loop),this._setVolume(playProps.volume),this._setPan(playProps.pan),null!=playProps.startTime&&(this._setStartTime(playProps.startTime),this._setDuration(playProps.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},p._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},p._handleSoundComplete=function(event){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")},p._handleSoundReady=function(){},p._updateVolume=function(){},p._updatePan=function(){},p._updateStartTime=function(){},p._updateDuration=function(){},p._setDurationFromSource=function(){},p._calculateCurrentPosition=function(){},p._updatePosition=function(){},p._removeLooping=function(value){},p._addLooping=function(value){},p._pause=function(){},p._resume=function(){},p._handleStop=function(){},p._handleCleanUp=function(){},p._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(AbstractSoundInstance,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var AbstractPlugin=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},p=AbstractPlugin.prototype;AbstractPlugin._capabilities=null,AbstractPlugin.isSupported=function(){return!0},p.register=function(loadItem){var loader=this._loaders[loadItem.src];return loader&&!loader.canceled?this._loaders[loadItem.src]:(this._audioSources[loadItem.src]=!0,this._soundInstances[loadItem.src]=[],(loader=new this._loaderClass(loadItem)).on("complete",this._handlePreloadComplete,this),this._loaders[loadItem.src]=loader,loader)},p.preload=function(loader){loader.on("error",this._handlePreloadError,this),loader.load()},p.isPreloadStarted=function(src){return null!=this._audioSources[src]},p.isPreloadComplete=function(src){return!(null==this._audioSources[src]||1==this._audioSources[src])},p.removeSound=function(src){if(this._soundInstances[src]){for(var i=this._soundInstances[src].length;i--;){var item;this._soundInstances[src][i].destroy()}delete this._soundInstances[src],delete this._audioSources[src],this._loaders[src]&&this._loaders[src].destroy(),delete this._loaders[src]}},p.removeAllSounds=function(){for(var key in this._audioSources)this.removeSound(key)},p.create=function(src,startTime,duration){this.isPreloadStarted(src)||this.preload(this.register(src));var si=new this._soundInstanceClass(src,startTime,duration,this._audioSources[src]);return this._soundInstances[src]&&this._soundInstances[src].push(si),si.setMasterVolume&&si.setMasterVolume(createjs.Sound.volume),si.setMasterMute&&si.setMasterMute(createjs.Sound.muted),si},p.setVolume=function(value){return this._volume=value,this._updateVolume(),!0},p.getVolume=function(){return this._volume},p.setMute=function(value){return this._updateVolume(),!0},p.toString=function(){return"[AbstractPlugin]"},p._handlePreloadComplete=function(event){var src=event.target.getItem().src;this._audioSources[src]=event.result;for(var i=0,l=this._soundInstances[src].length;i<l;i++){var item;this._soundInstances[src][i].playbackResource=this._audioSources[src],this._soundInstances[src]=null}},p._handlePreloadError=function(event){},p._updateVolume=function(){},createjs.AbstractPlugin=AbstractPlugin}(),this.createjs=this.createjs||{},function(){"use strict";function Loader(loadItem){this.AbstractLoader_constructor(loadItem,!0,createjs.Types.SOUND)}var p=createjs.extend(Loader,createjs.AbstractLoader);Loader.context=null,p.toString=function(){return"[WebAudioLoader]"},p._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},p._sendComplete=function(event){Loader.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},p._handleAudioDecoded=function(decodedAudio){this._result=decodedAudio,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(Loader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function WebAudioSoundInstance(src,startTime,duration,playbackResource){this.AbstractSoundInstance_constructor(src,startTime,duration,playbackResource),this.gainNode=s.context.createGain(),this.panNode=s.context.createPanner(),this.panNode.panningModel=s._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var p=createjs.extend(WebAudioSoundInstance,createjs.AbstractSoundInstance),s=WebAudioSoundInstance;s.context=null,s._scratchBuffer=null,s.destinationNode=null,s._panningModel="equalpower",p.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},p.toString=function(){return"[WebAudioSoundInstance]"},p._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},p._removeLooping=function(value){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},p._addLooping=function(value){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},p._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},p._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},p._cleanUpAudioNode=function(audioNode){if(audioNode){if(audioNode.stop(0),audioNode.disconnect(0),createjs.BrowserDetect.isIOS)try{audioNode.buffer=s._scratchBuffer}catch(e){}audioNode=null}return audioNode},p._handleSoundReady=function(event){this.gainNode.connect(s.destinationNode);var dur=.001*this._duration,pos=Math.min(.001*Math.max(0,this._position),dur);this.sourceNode=this._createAndPlayAudioNode(s.context.currentTime-dur,pos),this._playbackStartTime=this.sourceNode.startTime-pos,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(dur-pos)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},p._createAndPlayAudioNode=function(startTime,offset){var audioNode=s.context.createBufferSource();audioNode.buffer=this.playbackResource,audioNode.connect(this.panNode);var dur=.001*this._duration;return audioNode.startTime=startTime+dur,audioNode.start(audioNode.startTime,offset+.001*this._startTime,dur-offset),audioNode},p._pause=function(){this._position=1e3*(s.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},p._resume=function(){this._handleSoundReady()},p._updateVolume=function(){var newVolume=this._muted?0:this._volume;newVolume!=this.gainNode.gain.value&&(this.gainNode.gain.value=newVolume)},p._calculateCurrentPosition=function(){return 1e3*(s.context.currentTime-this._playbackStartTime)},p._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},p._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},p._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(WebAudioSoundInstance,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function WebAudioPlugin(){this.AbstractPlugin_constructor(),this._panningModel=s._panningModel,this.context=s.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=s._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var p=createjs.extend(WebAudioPlugin,createjs.AbstractPlugin),s=WebAudioPlugin;s._capabilities=null,s._panningModel="equalpower",s.context=null,s._scratchBuffer=null,s._unlocked=!1,s.DEFAULT_SAMPLE_RATE=44100,s.isSupported=function(){var isMobilePhoneGap=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!isMobilePhoneGap&&!this._isFileXHRSupported())&&(s._generateCapabilities(),null!=s.context)},s.playEmptySound=function(){if(null!=s.context){var source=s.context.createBufferSource();source.buffer=s._scratchBuffer,source.connect(s.context.destination),source.start(0,0,0)}},s._isFileXHRSupported=function(){var supported=!0,xhr=new XMLHttpRequest;try{xhr.open("GET","WebAudioPluginTest.fail",!1)}catch(error){return supported=!1}xhr.onerror=function(){supported=!1},xhr.onload=function(){supported=404==this.status||200==this.status||0==this.status&&""!=this.response};try{xhr.send()}catch(error){supported=!1}return supported},s._generateCapabilities=function(){if(null==s._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==s.context&&(s.context=s._createAudioContext(),null==s.context))return null;null==s._scratchBuffer&&(s._scratchBuffer=s.context.createBuffer(1,1,22050)),s._compatibilitySetUp(),"ontouchstart"in window&&"running"!=s.context.state&&(s._unlock(),document.addEventListener("mousedown",s._unlock,!0),document.addEventListener("touchstart",s._unlock,!0),document.addEventListener("touchend",s._unlock,!0)),s._capabilities={panning:!0,volume:!0,tracks:-1};for(var supportedExtensions=createjs.Sound.SUPPORTED_EXTENSIONS,extensionMap=createjs.Sound.EXTENSION_MAP,i=0,l=supportedExtensions.length;i<l;i++){var ext=supportedExtensions[i],playType=extensionMap[ext]||ext;s._capabilities[ext]="no"!=t.canPlayType("audio/"+ext)&&""!=t.canPlayType("audio/"+ext)||"no"!=t.canPlayType("audio/"+playType)&&""!=t.canPlayType("audio/"+playType)}s.context.destination.numberOfChannels<2&&(s._capabilities.panning=!1)}},s._createAudioContext=function(){var AudioCtor=window.AudioContext||window.webkitAudioContext;if(null==AudioCtor)return null;var context=new AudioCtor;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&context.sampleRate!==s.DEFAULT_SAMPLE_RATE){var buffer=context.createBuffer(1,1,s.DEFAULT_SAMPLE_RATE),dummy=context.createBufferSource();dummy.buffer=buffer,dummy.connect(context.destination),dummy.start(0),dummy.disconnect(),context.close(),context=new AudioCtor}return context},s._compatibilitySetUp=function(){if(s._panningModel="equalpower",!s.context.createGain){s.context.createGain=s.context.createGainNode;var audioNode=s.context.createBufferSource();audioNode.__proto__.start=audioNode.__proto__.noteGrainOn,audioNode.__proto__.stop=audioNode.__proto__.noteOff,s._panningModel=0}},s._unlock=function(){s._unlocked||(s.playEmptySound(),"running"==s.context.state&&(document.removeEventListener("mousedown",s._unlock,!0),document.removeEventListener("touchend",s._unlock,!0),document.removeEventListener("touchstart",s._unlock,!0),s._unlocked=!0))},p.toString=function(){return"[WebAudioPlugin]"},p._addPropsToClasses=function(){var c=this._soundInstanceClass;c.context=this.context,c._scratchBuffer=s._scratchBuffer,c.destinationNode=this.gainNode,c._panningModel=this._panningModel,this._loaderClass.context=this.context},p._updateVolume=function(){var newVolume=createjs.Sound._masterMute?0:this._volume;newVolume!=this.gainNode.gain.value&&(this.gainNode.gain.value=newVolume)},createjs.WebAudioPlugin=createjs.promote(WebAudioPlugin,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function HTMLAudioTagPool(){throw"HTMLAudioTagPool cannot be instantiated"}var s=HTMLAudioTagPool;function TagPool(src){this._tags=[]}s._tags={},s._tagPool=new TagPool,s._tagUsed={},s.get=function(src){var t=s._tags[src];return null==t?(t=s._tags[src]=s._tagPool.get()).src=src:s._tagUsed[src]?(t=s._tagPool.get()).src=src:s._tagUsed[src]=!0,t},s.set=function(src,tag){tag==s._tags[src]?s._tagUsed[src]=!1:s._tagPool.set(tag)},s.remove=function(src){var tag=s._tags[src];return null!=tag&&(s._tagPool.set(tag),delete s._tags[src],delete s._tagUsed[src],!0)},s.getDuration=function(src){var t=s._tags[src];return null!=t&&t.duration?1e3*t.duration:0},createjs.HTMLAudioTagPool=HTMLAudioTagPool;var p=TagPool.prototype;p.constructor=TagPool,p.get=function(){var tag;return null==(tag=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(tag),tag},p.set=function(tag){var index;-1==createjs.indexOf(this._tags,tag)&&(this._tags.src=null,this._tags.push(tag))},p.toString=function(){return"[TagPool]"},p._createTag=function(){var tag=document.createElement("audio");return tag.autoplay=!1,tag.preload="none",tag}}(),this.createjs=this.createjs||{},function(){"use strict";function HTMLAudioSoundInstance(src,startTime,duration,playbackResource){this.AbstractSoundInstance_constructor(src,startTime,duration,playbackResource),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),duration?this._audioSpriteStopTime=.001*(startTime+duration):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var p=createjs.extend(HTMLAudioSoundInstance,createjs.AbstractSoundInstance);p.setMasterVolume=function(value){this._updateVolume()},p.setMasterMute=function(isMuted){this._updateVolume()},p.toString=function(){return"[HTMLAudioSoundInstance]"},p._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},p._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},p._handleCleanUp=function(){var tag=this._playbackResource;if(null!=tag){tag.pause(),tag.loop=!1,tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),tag.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{tag.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,tag),this._playbackResource=null}},p._beginPlaying=function(playProps){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(playProps)},p._handleSoundReady=function(event){if(4!==this._playbackResource.readyState){var tag=this._playbackResource;return tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),tag.preload="auto",void tag.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},p._handleTagReady=function(event){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},p._pause=function(){this._playbackResource.pause()},p._resume=function(){this._playbackResource.play()},p._updateVolume=function(){if(null!=this._playbackResource){var newVolume=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;newVolume!=this._playbackResource.volume&&(this._playbackResource.volume=newVolume)}},p._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},p._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(error){this._handleSetPositionSeek(null)}},p._handleSetPositionSeek=function(event){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},p._handleAudioSpriteLoop=function(event){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},p._handleLoop=function(event){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},p._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},p._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},p._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(HTMLAudioSoundInstance,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function HTMLAudioPlugin(){this.AbstractPlugin_constructor(),this._capabilities=s._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var p=createjs.extend(HTMLAudioPlugin,createjs.AbstractPlugin),s=HTMLAudioPlugin;s.MAX_INSTANCES=30,s._AUDIO_READY="canplaythrough",s._AUDIO_ENDED="ended",s._AUDIO_SEEKED="seeked",s._AUDIO_STALLED="stalled",s._TIME_UPDATE="timeupdate",s._capabilities=null,s.isSupported=function(){return s._generateCapabilities(),null!=s._capabilities},s._generateCapabilities=function(){if(null==s._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;s._capabilities={panning:!1,volume:!0,tracks:-1};for(var supportedExtensions=createjs.Sound.SUPPORTED_EXTENSIONS,extensionMap=createjs.Sound.EXTENSION_MAP,i=0,l=supportedExtensions.length;i<l;i++){var ext=supportedExtensions[i],playType=extensionMap[ext]||ext;s._capabilities[ext]="no"!=t.canPlayType("audio/"+ext)&&""!=t.canPlayType("audio/"+ext)||"no"!=t.canPlayType("audio/"+playType)&&""!=t.canPlayType("audio/"+playType)}}},p.register=function(loadItem){var tag=createjs.HTMLAudioTagPool.get(loadItem.src),loader=this.AbstractPlugin_register(loadItem);return loader.setTag(tag),loader},p.removeSound=function(src){this.AbstractPlugin_removeSound(src),createjs.HTMLAudioTagPool.remove(src)},p.create=function(src,startTime,duration){var si=this.AbstractPlugin_create(src,startTime,duration);return si.playbackResource=null,si},p.toString=function(){return"[HTMLAudioPlugin]"},p.setVolume=p.getVolume=p.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(HTMLAudioPlugin,"AbstractPlugin")}();